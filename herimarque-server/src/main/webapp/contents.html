<!DOCTYPE>
<html>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.7.1.js"></script>
<body>
	<h1>File Upload with Jersey</h1>
	<form name="uploadForm" id="uploadForm" method="post" action="api/c/upload" enctype="multipart/form-data" accept-charset="UTF-8" >
		ID <input type="text" name="id" value="testId"/>
		<br>
		Upload file <input type="file" name="file" size="45" />
		<br>
		<!-- <div>
			<div>
			지역 		
			<select id="area">
			<option value="11">서울</option>
			<option value="21">부산</option>
			<option value="22">대구</option>
			<option value="23">인천</option>
			<option value="24">광주</option>
			<option value="25">대전</option>
			<option value="26">울산</option>
			<option value="31">경기</option>
			<option value="32">강원</option>
			<option value="33">충북</option>
			<option value="34">충남</option>
			<option value="35">전북</option>
			<option value="36">전남</option>
			<option value="37">경북</option>
			<option value="38">경남</option>
			<option value="39">제주</option>
			<option value="ZZ">기타</option>
			</select>
			</div>
			<div>
			시대		
			<select id="age">
			<option value="01">선사시대</option>
			<option value="03">석기시대</option>
			<option value="05">청동기시대</option>
			<option value="07">철기시대</option>
			<option value="09">삼한시대</option>
			<option value="10">삼국시대</option>
			<option value="11">고구려시대</option>
			<option value="12">백제시대</option>
			<option value="13">신라시대</option>
			<option value="14">가야시대</option>
			<option value="15">발해시대</option>
			<option value="20">통일신라시대</option>
			<option value="30">고려시대</option>
			<option value="40">조선시대</option>
			<option value="45">대한제국시대</option>
			<option value="50">일제강점기시대</option>
			<option value="90">미상</option>
			</select>
			</div>
			<div>
			종목	
			<select id="kind">
			<option value="11">국보</option>
			<option value="12">보물</option>
			<option value="13">사적</option>
			<option value="14">사적 및 명승</option>
			<option value="15">명승</option>
			<option value="16">천연기념물</option>
			<option value="17">중요무형문화재</option>
			<option value="18">중요민속자료</option>
			<option value="21">시도유형문화재</option>
			<option value="22">시도무형문화재</option>
			<option value="23">시도기념물</option>
			<option value="24">시도민속자료</option>
			<option value="31">문화재자료</option>
			<option value="79">등록문화재</option>
			</select>
			</div>
		</div> -->
		<textarea rows="3" cols="50" name="mapInfo">
{area:["서울", "경남"], logging:[{type:"g", x:"10.1111", y:"12.1111"},{type:"i", x:"12.12412", y:"53.351351"}]}
		</textarea>
		<br>
		<!-- <input type="button" value="Upload" id="submit" /> -->
		<button id="upload">Upload</button>
	</form>
	<div class="uploadResult"></div>
	<div class="addComment">
		<h2>Add Comment to the map</h2>
		mapKey:<input type="text" id="mapkey" value="e11a088801c1e26a40c9a05861acd071"><br>
		id:<input type="text" id="id" value="testId"><br>
		contents:<input type="text" id="contents"><br>
		<input type="button" id="addComment" value="addIt">
		<div class="addCommentResult"></div>
	</div>
	<div class="periodFind">
	
	</div>
	<div class="likeMap">
	<h1>Like Map</h1>
		id:<input type="text" id="likeUser" value="testId"><br>
		mapKey:<input type="text" id="likeMapKey" value="e11a088801c1e26a40c9a05861acd071""><br>
		<input type="button" id="likeMap" value="Like!">
		<div class="likeMapResult"></div>
	</div>
	<div class="hotMaps">
	<h1>Hot Maps</h1>
	<input type="button" id="getHots" value="HotMaps!" />
	<div class="hotMapsResult"></div>
	</div>
</body>
<script type="text/javascript">
$("#addComment").click(function(){
	$.ajax({
		type:'POST',
		url:'api/c/u/'+$("#mapkey").val(),
		beforeSend: function(xhr){
			xhr.setRequestHeader("content-type", "application/json");
			xhr.setRequestHeader('user', $("#id").val());
		},
		data: {content:$("#contents").val()},
		statusCode:{
			200: function(){
				$(".addCommentResult").empty().append("success to add the comment");
			},
			400: function(){
				$(".addCommentResult").empty().append("Fail to add the comment");
			}
		}
	});
});

$("#likeMap").click(function(){
	$.ajax({
		type:'POST',
		url:'api/c/maps/' + $("#likeUser").val() + "/?map=" + $("#likeMapKey").val(),
		success:function(){
			$(".likeMapResult").empty().append("Success to add like to the map!");
		}
	});
});

$("#getHots").click(function(){
	$.ajax({
		type:'GET',
		url:'api/c/maps/hot',
		beforeSend: function(xhr){
			xhr.setRequestHeader('user', 'testId');
		},
		statusCode:{
			200:function(data){
				$(".hotMapsResult").empty().append("Success to load<br>");
				$(".hotMapsResult").append(data);
			},
			503:function(){
				$(".hotMapsResult").empty().append("Fail to load");
			}
		}
	});
});
</script>
</html>